sudo: required
language: node_js
node_js:
- '5'
branches:
  only:
    - dev
services:
- docker
after_success:
- docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
- docker build -t nomkhonwaan/blog:latest .
- docker push nomkhonwaan/blog
- 'curl -X POST -u $DOCKERCLOUD_API_KEY -H "Accept: application/json" https://cloud.docker.com/api/app/v1/nomkhonwaan/service/531eb7a0-fb80-4af6-a6f3-b4de345f8e69/redeploy/'
env:
  global:
  - secure: F2PfwiU24OeMaHe3rjPYzQoVWLMlGxVlyAYgeDeFthaxgi/bVMrvD/7XgwH16eF7Z3zPTeceRNgRCd5VL/biTIid3RyQiFlb3p6mLVq+kvR7zAJDk5snwTzG+Y96YAox0ycE+He8qQjFO6Jqy2mqh0KcYBq7nZyDWlVrfi7fGBtzr8hQ07BAllU5CXpQ0OoCNN5Sez245krv3PWh7cMGL8pItnBBhGtbaqF0R/dCV+sZUiukm3WSp3VupCvhzEcRjx7kw3XuZB/9KYwvhrtnuL6mruz5l7vIHd0ly95/FI+F5BLy9UP+7Ji7VZJitSfOg90soV6e8OUEY4ESbvPYTyAuK/29kQ4wg5xe6SuAUQkWpCukWIddgqj3uI9/lFEinQztaEAfRAYcxFZSGfXPFyYeoMHDlFb9Joe7CNBXHZYhRcjic947eRAspiGx4NiQ8eZtUYXECNwKTCGLAzBwO25geWPPKlVe12Vyvik6aK1g3VkIt3Tqz8bqAHUHwAuuURDYVJhTVsK8IWh9rhffAUCjsBg5QPPZigB3K78sg4XUGdXfKLjjP8CS7cP8G7gTXuXe/NDXnCcoCBsQWf2HQe8JKslN11IJvA2fX5sIIAcn0MmXwlsj0inaRjAu2D5q+KFeyCD14Br2kSgojNuRCuzgbox8o7VtAZowGTcjgj0=
  - secure: TTkkvPU39URVh0sdbhEmklQooGJifq8nr7vZKasKWqJ48gWC9VtMzHMaH51YVdkAhV6pFRgUZa0ZJRNHapPWFyU8pPBwKh2TbzlcFbW16inEDpwrg9AQqD1n4+Pqs3Zz7H1NtJoIH0BhS3Rs+ONPftLk5V7h1zAhHQFWs/BmDtg7OaqiUSQdkGj0GozT5mCGLOgzYjQMSlPRPA1jNGo3n+Sb1YgmneVJ5dKY4b+dD7nHwzrVffBEKqpExJCL0Eg1sl8OolnybY+vZbfzRMJSg74jqHCc65/EEst+6MVj7tXR6lilnzZRDxYkiO1VGNgWfCNutm6VFvlBjK2KyxGOSuZpDrBI0xjTg44Fdsv1O5ByhggAn6S1FfkkTheXXxOyAj0I8xbWSDXmZ5FH3eQ6BQzBliiLFCMbjA7WsD2N+x5Xaj87J3KGCzFtgFpPi+fcQQGwN9LzWirkuW4SsPf88OhlYqVNdX3IQyC4+mq+8uVn/te/K5unJ0KZdNQKtFakbrOOoDZAzaUKkLRHIkZB6maHh0bJR0zZuhDqeyGkBUXtwpMhjo0n/btnj2615jdkmOAB+yqn7FAqkxVTOSkJc+eAvpj829eub6S/tpVT1Hmc2wC/1RiLGyBIFl/rcAJB0xSQCu/jnr4GwrUAmT9oJgt0+/MzfDDGKFT73+q9pig=
  - secure: AYtb62VB+FxB0AvWxBaPMOkPzGhodR/nzKpdFgN3Gv7sZQTErikO4BP7NDgFe7mAAsko2whMCHWyIHgYVsdllKrp6ktavGuiN2WgIlb9gV9BPh7BdPRD38SCQKpMcrWS4oDtjvqyGrACqD+aIBePWxXm7xyhh+U51LtUjkfaoT5Z49yogwfkTuN+y6YXZPkk4grZFWOsMSV+RSRSL8Yfoh3NjY4Lk30NGW1Sn8MHkVjRNIzjthybG1XZT/qYz1a2gIPNCYch/OjrWHXbJnRfPy3WJ/o0x6iiYpR8ElLfMMRK2MoqpTS3eTvzvUUrvAe9iK9Z3rNvki/oCR/kNF3cg+EtcBRrr4M2D6LP04Bl+yQiKGjiyQoKFd5wnA9vV9xvTJVqipiKFqypDDBCgO3ulTAhnpKXacjj2T3yF4jyDBQ+sL0uOupVJEBb9KFZlB7+9G/PuTOSp+DvYdbzckmMi0gl0usiqaD2rMSdNqbOpo07mMLlqGWs/DrBTfzzeDI7npn3Quia/oIP67PgNXKhmB5OS3u/MgDrYzOT23vCumHtnURpjXmIkNXTuUra94MOpgCJWsD4+8hCNX9KbXD6cSUEICW9YSvUWYQDiYKmShz1fEwBgnMjGdQ21sEcXOP2jKCHyobakOvdyChA2JqsGTf1Cyw2boWzK5GaNfYj9XA=
  - secure: V5fqC2whQtKx+q7UDQ0EZl37UdU5RuW2E/BQcY7hGduI0/RadOVkjEd7xO7YJ26H82A12HaGXWJtg6gUVKwyBkEp14tEjb2SFY8c8Yvle/1saIfbs2qVxcWCakm6ojIQQgPEToO/7LXur5UGcjFXsZ4YaQ/Mpf/IIBqAjFaxEKaRBaCSq3cY6MRfE5roYa1Ss1AncZOHkzfgyJuLfbcEJoObZwtmUw4GB1FNidUzuf2N1SCG6q8jEJXPML0AH8Ar5Udx/DmMJeYowkROqlIOdNgVqXmhkE7YSg4vThX9U3220QKpzfYkQ98xkvR+e0VArz4ggtm0V6Rs8dgebTCmznmXbqgqjtpHJt8qcTEpNrYdB454WYnaytzaclHhXwfBdf8+mPdzz07wBakd6lptTz++3zXFDGiMe4+BOvczY1ZtRVECiIMUXdIlyPOFtOMLLlnn0kTYaGmdrmd61Z6tuK+e+yRBwxc8zbJ3I101v0AsmsrWqWqO3x3lRnh+8GtVyEJbTojcO6br8yoJLkJ5oa8vWN57NNiKv4+6m5KMmeuC26cJFJjx7b0Q02Eauu079WHcwD4FYvhoKfFzg6IWblfCI4SmzSzLq58yCC1fz4Tr7huAC4T97AcETeWsshXYNMXtDUfAo6MmLWq+/X96kUFFTroaH+XSZ2SClBCaU48=
